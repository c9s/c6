---
# travis and modern c++ http://genbattle.bitbucket.org/blog/2016/01/17/c++-travis-ci/
language: c++
git:
  depth: 1
addons:
  apt:
    packages:
    # - gcc-5
    # - g++-5
    # - clang-3.6
    # - libgflags-dev
os:
- linux
# - osx
compiler:
- clang
- gcc
install:
- wget 'https://googletest.googlecode.com/files/gtest-1.7.0.zip'
- (unzip -n gtest-1.7.0.zip && ln -s gtest-1.7.0 gtest)
- wget -O gflags.zip https://github.com/gflags/gflags/archive/v2.1.2.zip
- (unzip -n gflags.zip && ln -s gflags-2.1.2 gflags)
- (cd gflags-2.1.2 && cmake . && make)
- wget -O glog.zip https://github.com/google/glog/archive/v0.3.4.zip
- (unzip -n glog.zip && ln -s glog-0.3.4 glog)
script:
- cmake -DGFlags_ROOT_DIR=gflags -DGTEST_ROOT=gtest -DGLog_ROOT_DIR=glog .
cache:
  apt: true
  directories:
  - gtest-1.7.0
  - gflags-2.1.2
# after_success:
# - goveralls -coverprofile=c6.cov -service=travis-ci
# notifications:
#  slack:
#    secure: Af6bRpbwtC4794UtB1phbubk63KdethyuMFkk9bxTrEwzTgMN4AdLLv4DYjoeETBhPw3FKc6LurzhsRfNnNT14FaZAW3ZmMTUPxHNKnxu9EvloaizXpwxkKgeVNHneA8gytXZ+s/r/rgP/IkSJcbvbLfpkNvT+lNyPW32jK0CW8=
